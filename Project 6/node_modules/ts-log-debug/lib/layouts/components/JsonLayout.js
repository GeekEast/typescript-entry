"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const BaseLayout_1 = require("../class/BaseLayout");
const layout_1 = require("../decorators/layout");
const Util = require("util");
/**
 *
 * @private
 */
let JsonLayout = class JsonLayout extends BaseLayout_1.BaseLayout {
    transform(loggingEvent, timezoneOffset) {
        const log = {
            startTime: loggingEvent.startTime,
            categoryName: loggingEvent.categoryName,
            level: loggingEvent.level.toString(),
            data: loggingEvent.data,
            context: loggingEvent.context
        };
        log.data = log.data.map(data => Util.format(...[].concat(data)));
        return JSON.stringify(log) + (this.config["separator"] || "");
    }
};
JsonLayout = tslib_1.__decorate([
    layout_1.Layout({ name: "json" })
], JsonLayout);
exports.JsonLayout = JsonLayout;
//# sourceMappingURL=JsonLayout.js.map