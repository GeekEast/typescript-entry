{"version":3,"sources":["decorators/inject.ts"],"names":[],"mappings":";;AAAA,qCAAuF;AAEvF;;;;;GAKG;AACH,SAAgB,MAAM,CAAC,MAAY;IACjC,OAAO,CAAC,MAAW,EAAE,WAAmB,EAAE,UAAsD,EAAO,EAAE;QACvG,MAAM,WAAW,GAAG,uBAAgB,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,CAAC;QAE9E,QAAQ,WAAW,EAAE;YACnB,KAAK,WAAW,CAAC;YACjB,KAAK,uBAAuB;gBAC1B,IAAI,MAAM,EAAE;oBACV,MAAM,UAAU,GAAG,eAAQ,CAAC,aAAa,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;oBAE/D,UAAU,CAAC,UAAoB,CAAC,GAAG,MAAM,CAAC;oBAC1C,eAAQ,CAAC,aAAa,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;iBACzD;gBACD,MAAM;YAER,KAAK,UAAU;gBACb,YAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,sBAAsB,EAAE;oBAC/C,CAAC,WAAW,CAAC,EAAE;wBACb,WAAW;wBACX,WAAW;wBACX,OAAO,EAAE,MAAM,IAAI,eAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,WAAW,CAAC;qBACzD;iBACF,CAAC,CAAC;gBACH,MAAM;YAER,KAAK,QAAQ;gBACX,YAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,sBAAsB,EAAE;oBAC/C,CAAC,WAAW,CAAC,EAAE;wBACb,WAAW;wBACX,WAAW;qBACZ;iBACF,CAAC,CAAC;gBAEH,OAAO,UAAU,CAAC;YAEpB;gBACE,MAAM,IAAI,+BAAwB,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,CAAC;SACjF;IACH,CAAC,CAAC;AACJ,CAAC;AAvCD,wBAuCC","file":"inject.js","sourcesContent":["import {getDecoratorType, Metadata, Store, UnsupportedDecoratorType} from \"@tsed/core\";\n\n/**\n *\n * @param symbol\n * @returns {Function}\n * @decorator\n */\nexport function Inject(symbol?: any): Function {\n  return (target: any, propertyKey: string, descriptor: TypedPropertyDescriptor<Function> | number): any => {\n    const bindingType = getDecoratorType([target, propertyKey, descriptor], true);\n\n    switch (bindingType) {\n      case \"parameter\":\n      case \"parameter.constructor\":\n        if (symbol) {\n          const paramTypes = Metadata.getParamTypes(target, propertyKey);\n\n          paramTypes[descriptor as number] = symbol;\n          Metadata.setParamTypes(target, propertyKey, paramTypes);\n        }\n        break;\n\n      case \"property\":\n        Store.from(target).merge(\"injectableProperties\", {\n          [propertyKey]: {\n            bindingType,\n            propertyKey,\n            useType: symbol || Metadata.getType(target, propertyKey)\n          }\n        });\n        break;\n\n      case \"method\":\n        Store.from(target).merge(\"injectableProperties\", {\n          [propertyKey]: {\n            bindingType,\n            propertyKey\n          }\n        });\n\n        return descriptor;\n\n      default:\n        throw new UnsupportedDecoratorType(Inject, [target, propertyKey, descriptor]);\n    }\n  };\n}\n"],"sourceRoot":"../../src"}