{"version":3,"sources":["utils/deepClone.ts"],"names":[],"mappings":";;AAAA,+CAAoG;AAEpG,MAAM,WAAW,GAAG,CAAC,MAAW,EAAE,EAAE,CAAC,mBAAK,CAAC,MAAM,CAAC,IAAI,yBAAW,CAAC,MAAM,CAAC,IAAI,sBAAQ,CAAC,MAAM,CAAC,IAAI,wBAAU,CAAC,MAAM,CAAC,CAAC;AAEpH;;;GAGG;AACH,SAAgB,SAAS,CAAC,MAAW;IACnC,IAAI,IAAS,CAAC;IAEd,IAAI,WAAW,CAAC,MAAM,CAAC,EAAE;QACvB,OAAO,MAAM,CAAC;KACf;IAED,IAAI,oBAAM,CAAC,MAAM,CAAC,EAAE;QAClB,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;KACzB;IAED,IAAI,GAAG,iCAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IAE7C,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;QACxB,+FAA+F;QAC/F,MAAM,UAAU,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAE,CAAC;QAEjE,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,wBAAU,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;gBACjC,IAAI,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;aACzC;iBAAM;gBACL,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;aAC9C;SACF;KACF;IAED,IAAI,CAAC,iCAAmB,CAAC,MAAM,CAAC,EAAE;QAChC,MAAM,SAAS,GAAG,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACjD,OAAO,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;KACzC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAhCD,8BAgCC","file":"deepClone.js","sourcesContent":["import {isArrayOrArrayClass, isDate, isFunction, isNil, isPrimitive, isSymbol} from \"./ObjectUtils\";\n\nconst isBasicType = (source: any) => isNil(source) || isPrimitive(source) || isSymbol(source) || isFunction(source);\n\n/**\n * Return a cloned value\n * @param source\n */\nexport function deepClone(source: any): any {\n  let dest: any;\n\n  if (isBasicType(source)) {\n    return source;\n  }\n\n  if (isDate(source)) {\n    return new Date(source);\n  }\n\n  dest = isArrayOrArrayClass(source) ? [] : {};\n\n  for (const key in source) {\n    // Use getOwnPropertyDescriptor instead of source[key] to prevent from trigering setter/getter.\n    const descriptor = Object.getOwnPropertyDescriptor(source, key)!;\n\n    if (descriptor) {\n      if (!isFunction(descriptor.value)) {\n        dest[key] = deepClone(descriptor.value);\n      } else {\n        Object.defineProperty(dest, key, descriptor);\n      }\n    }\n  }\n\n  if (!isArrayOrArrayClass(source)) {\n    const prototype = Reflect.getPrototypeOf(source);\n    Reflect.setPrototypeOf(dest, prototype);\n  }\n\n  return dest;\n}\n"],"sourceRoot":"../../src"}