{"version":3,"sources":["mvc/components/SendResponseMiddleware.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,gBAAgB,EAAC,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAC,GAAG,EAAe,MAAM,eAAe,CAAC;AAEhD,OAAO,EAAC,WAAW,EAAC,MAAM,qBAAqB,CAAC;AAEhD;;;GAGG;AACH,qBACa,sBAAuB,YAAW,WAAW;IAC5C,SAAS,CAAC,gBAAgB,EAAE,gBAAgB;gBAAlC,gBAAgB,EAAE,gBAAgB;IAEjD,GAAG,CAAiB,IAAI,EAAE,GAAG,EAAS,QAAQ,EAAE,GAAG;CAiB3D","file":"SendResponseMiddleware.d.ts","sourcesContent":["import {isBoolean, isNumber, isStream, isString} from \"@tsed/core\";\nimport {ConverterService} from \"../../converters\";\nimport {Res, ResponseData} from \"../../filters\";\nimport {Middleware} from \"../decorators\";\nimport {IMiddleware} from \"../interfaces/index\";\n\n/**\n * See example to override SendResponseMiddleware [here](/docs/middlewares/override/send-response.md).\n * @middleware\n */\n@Middleware()\nexport class SendResponseMiddleware implements IMiddleware {\n  constructor(protected converterService: ConverterService) {}\n\n  public use(@ResponseData() data: any, @Res() response: Res) {\n    if (data === undefined) {\n      return response.send();\n    }\n\n    if (isStream(data)) {\n      data.pipe(response);\n\n      return response;\n    }\n\n    if (isBoolean(data) || isNumber(data) || isString(data) || data === null) {\n      return response.send(data);\n    }\n\n    return response.json(this.converterService.serialize(data));\n  }\n}\n"],"sourceRoot":"../../../src"}