{"version":3,"sources":["mvc/decorators/required.ts"],"names":[],"mappings":";;AACA,0EAAqE;AACrE,mFAA8E;AAE9E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyCG;AACH,SAAgB,QAAQ,CAAC,GAAG,qBAA4B;IACtD,OAAO,CAAC,MAAiB,EAAE,WAAmB,EAAE,cAAsB,EAAQ,EAAE;QAC9E,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE;YACtC,6BAAa,CAAC,QAAQ,CAAC,MAAM,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;SAC7D;aAAM;YACL,mCAAgB,CAAC,QAAQ,CAAC,MAAM,EAAE,WAAW,EAAE,qBAAqB,CAAC,CAAC;SACvE;IACH,CAAC,CAAC;AACJ,CAAC;AARD,4BAQC","file":"required.js","sourcesContent":["import {Type} from \"@tsed/core\";\nimport {ParamRegistry} from \"../../filters/registries/ParamRegistry\";\nimport {PropertyRegistry} from \"../../jsonschema/registries/PropertyRegistry\";\n\n/**\n * Add required annotation for a function argument.\n *\n * The @Required decorator can be used on two cases.\n *\n * To decorate a parameters:\n *\n * ```typescript\n * @Post(\"/\")\n * async method(@Required() @BodyParams(\"field\") field: string) {}\n * ```\n *\n * To decorate a model:\n *\n * ```typescript\n * class Model {\n *   @JsonProperty()\n *   @Required()\n *   field: string;\n * }\n * ```\n *\n * > Required will throw a BadRequest when the given value is `null`, an empty string or `undefined`.\n *\n * ### Allow a values\n *\n * In some case, you didn't want trigger a BadRequest when the value is an empty string for example.\n * The decorator `@Allow()`, allow you to configure a value list for which there will be no exception.\n *\n * ```typescript\n * class Model {\n *   @JsonProperty()\n *   @Required()\n *   @Allow(\"\")\n *   field: string;\n * }\n * ```\n *\n * @returns {Function}\n * @decorator\n * @converters\n */\nexport function Required(...allowedRequiredValues: any[]): any {\n  return (target: Type<any>, propertyKey: string, parameterIndex: number): void => {\n    if (typeof parameterIndex === \"number\") {\n      ParamRegistry.required(target, propertyKey, parameterIndex);\n    } else {\n      PropertyRegistry.required(target, propertyKey, allowedRequiredValues);\n    }\n  };\n}\n"],"sourceRoot":"../../../src"}