{"version":3,"sources":["mvc/decorators/method/useAfter.ts"],"names":[],"mappings":";;AAAA,qCAAuG;AACvG,wEAAmE;AAEnE;;;;;;;;;;;;;;;;;;;GAmBG;AACH,SAAgB,QAAQ,CAAC,GAAG,IAAW;IACrC,OAAO,CAAI,GAAG,aAAkC,EAAqC,EAAE;QACrF,QAAQ,uBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,EAAE;YAC7C,KAAK,QAAQ;gBACX,mCAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,CAAE,EAAE,IAAI,CAAC,CAAC;gBAErE,OAAO,aAAa,CAAC,CAAC,CAAQ,CAAC;YACjC,KAAK,OAAO;gBACV,iBAAU,CAAC,aAAa,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC;gBAC9D,MAAM;YACR;gBACE,MAAM,IAAI,+BAAwB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;SAC/D;IACH,CAAC,CAAC;AACJ,CAAC;AAdD,4BAcC","file":"useAfter.js","sourcesContent":["import {DecoratorParameters, getDecoratorType, StoreMerge, UnsupportedDecoratorType} from \"@tsed/core\";\nimport {EndpointRegistry} from \"../../registries/EndpointRegistry\";\n\n/**\n * Mounts the specified middleware function or functions at the specified path: the middleware function is executed when\n * the base of the requested path matches `path.\n *\n * ```typescript\n * @Controller('/')\n * @UseAfter(Middleware1)\n * export class Ctrl {\n *\n *    @Get('/')\n *    @UseAfter(Middleware2)\n *    get() { }\n * }\n * ```\n *\n * @returns {function(any, any, any): *}\n * @param args\n * @decorator\n * @endpoint\n */\nexport function UseAfter(...args: any[]): Function {\n  return <T>(...decoratorArgs: DecoratorParameters): TypedPropertyDescriptor<T> | void => {\n    switch (getDecoratorType(decoratorArgs, true)) {\n      case \"method\":\n        EndpointRegistry.useAfter(decoratorArgs[0], decoratorArgs[1]!, args);\n\n        return decoratorArgs[2] as any;\n      case \"class\":\n        StoreMerge(\"middlewares\", {useAfter: args})(...decoratorArgs);\n        break;\n      default:\n        throw new UnsupportedDecoratorType(UseAfter, decoratorArgs);\n    }\n  };\n}\n"],"sourceRoot":"../../../../src"}