{"version":3,"sources":["filters/errors/RequiredParamError.ts"],"names":[],"mappings":";;AAAA,yDAA6C;AAE7C,MAAa,kBAAmB,SAAQ,8BAAU;IAGhD,YAAY,IAAY,EAAE,UAA2B;QACnD,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC;QAC9D,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,EAAE,CAAC,CAAC;QAErE,IAAI,CAAC,MAAM,GAAG;YACZ;gBACE,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,UAAU;gBACnB,OAAO,EAAE,+BAA+B,UAAU,GAAG;gBACrD,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE;oBACN,eAAe,EAAE,UAAU;iBAC5B;gBACD,UAAU,EAAE,YAAY;aACzB;SACF,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,YAAY,CAAC,IAAY,EAAE,UAAkB;QAClD,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,EAAE,CAAC,CAAC;QAE/D,OAAO,mCAAmC,IAAI,IAAI,UAAU,gBAAgB,CAAC;IAC/E,CAAC;CACF;AAhCD,gDAgCC","file":"RequiredParamError.js","sourcesContent":["import {BadRequest} from \"ts-httpexceptions\";\n\nexport class RequiredParamError extends BadRequest {\n  errors: any[];\n\n  constructor(name: string, expression: string | RegExp) {\n    super(RequiredParamError.buildMessage(name, \"\" + expression));\n    const type = name.toLowerCase().replace(/parse|params|filter/gi, \"\");\n\n    this.errors = [\n      {\n        dataPath: \"\",\n        keyword: \"required\",\n        message: `should have required param '${expression}'`,\n        modelName: type,\n        params: {\n          missingProperty: expression\n        },\n        schemaPath: \"#/required\"\n      }\n    ];\n  }\n\n  /**\n   *\n   * @param name\n   * @param expression\n   * @returns {string}\n   */\n  static buildMessage(name: string, expression: string) {\n    name = name.toLowerCase().replace(/parse|params|filter/gi, \"\");\n\n    return `Bad request, parameter \"request.${name}.${expression}\" is required.`;\n  }\n}\n"],"sourceRoot":"../../../src"}